---
title: "Flutteré–‹ç™ºã®åŠ¹ç‡åŒ–ï¼šVSCodeã®launch.jsonã«Inputsã‚’è¿½åŠ ã—ã¦ãƒ‡ãƒã‚¤ã‚¹ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼é¸æŠã‚’ç°¡å˜ã«"
emoji: "ğŸ“±"
type: "tech"
topics: ["Flutter", "Dart", "VSCord", "Tech"]
published: false
---

Flutteré–‹ç™ºã§Device Previewã‚’åŠ¹ç‡çš„ã«åˆ©ç”¨ã™ã‚‹ãŸã‚ã®VSCodeã®launch.jsonè¨­å®šæ–¹æ³•ã«ã¤ã„ã¦è§£èª¬ã—ã¾ã™ã€‚

## VSCodeã®å…¥åŠ›å¤‰æ•°ã®åˆ©ç”¨
VSCodeã§ã¯ã€å…¥åŠ›å¤‰æ•°ã‚’ä½¿ç”¨ã—ã¦launch.jsonãƒ•ã‚¡ã‚¤ãƒ«å†…ã§å‹•çš„ã«å€¤ã‚’è¨­å®šã§ãã¾ã™ã€‚
è©³ç´°ã¯VSCodeå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
https://code.visualstudio.com/docs/editor/variables-reference#_input-variables

ä»Šå›ã¯ã“ã®æ©Ÿèƒ½ã‚’åˆ©ç”¨ã—ã¦ã€launch.jsonã«ãƒ‡ãƒã‚¤ã‚¹ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®é¸æŠã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã—ã¾ã™ã€‚
å…·ä½“çš„ã«ã¯ã€Flutterã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¦ã„ã¾ã™ã€‚

## launch.jsonã®è¨­å®š
ä»¥ä¸‹ã¯launch.jsonã«Inputsã‚’è¿½åŠ ã™ã‚‹ä¾‹ã§ã™ã€‚

```yaml
    "configurations": [
        {
            "name": "device_preview_sample",
            "request": "launch",
            "type": "dart",
            "args": [
                "--dart-define=devicePreview=${input:devicePreview}"
            ],
        },
    ],
    "inputs": [
        {
        "id": "devicePreview",
        "type": "pickString",
        "description": "Select the value for devicePreview",
        "options": [
            "on",
            "off"
        ],
        "default": "off"
        }
    ]
```

ã“ã®è¨­å®šã«ã‚ˆã‚Šã€å®Ÿè¡Œæ™‚ã«å…¥åŠ›å¤‰æ•°ã®å€¤ã‚’ç’°å¢ƒå¤‰æ•°ã¨ã—ã¦æ¸¡ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

## Inputsã®è©³ç´°
Inputsã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ç’°å¢ƒå¤‰æ•°ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚å„é …ç›®ã®èª¬æ˜ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

- id: å…¥åŠ›å¤‰æ•°ã®è­˜åˆ¥å­
- type: å…¥åŠ›ã‚¿ã‚¤ãƒ—
- description: å…¥åŠ›å¤‰æ•°ã®èª¬æ˜
- options: å…¥åŠ›å¤‰æ•°ã®é¸æŠè‚¢
- default: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®é¸æŠè‚¢

ã“ã“ã§ã¯ã€pickStringã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ãŒã€VSCodeã§ã¯promptStringã€pickStringã€commandã®3ã¤ã®ã‚¿ã‚¤ãƒ—ãŒã‚ã‚Šã¾ã™ã€‚

## Flutterã‚³ãƒ¼ãƒ‰ã®ä¾‹
ä»¥ä¸‹ã¯Flutterã§ã®ãƒ‡ãƒã‚¤ã‚¹ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¨­å®šã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚


```dart
import 'package:device_preview/device_preview.dart';
import 'package:flutter/material.dart';

const _devicePreviewStr = String.fromEnvironment('devicePreview');
const _devicePreviewIfNeeded = (_devicePreviewStr == 'on');

void main() {
  runApp(
    DevicePreview(
      enabled: _devicePreviewIfNeeded,
      builder: (context) => const MyApp(),
    ),
  );
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Flutter Demo',
      locale: DevicePreview.locale(context),
      builder: DevicePreview.appBuilder,
      theme: ThemeData.light(),
      darkTheme: ThemeData.dark(),
      home: const MyHomePage(title: 'Flutter Demo Home Page'),
    );
  }
}
```

ã“ã®è¨­å®šã«ã‚ˆã‚Šã€ãƒ‡ãƒã‚¤ã‚¹ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®é¸æŠãŒå®¹æ˜“ã«ãªã‚Šã¾ã™ã€‚

ã“ã¡ã‚‰ãŒè¨­å®šã—ãŸéš›ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚

![](/images/device_preview/sample.gif)

## å‚è€ƒãƒªãƒ³ã‚¯ã¨å¿œç”¨
ã“ã¡ã‚‰ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã™ã€‚
https://github.com/kazukidddd/device_preview_sample.git

ä»Šå›ã¯device_previewã‚’ä¾‹ã«ã—ã¾ã—ãŸãŒã€ä»–ã®è¨­å®šã«ã‚‚å¿œç”¨å¯èƒ½ã ã¨æ€ã„ã¾ã™ã€‚
æ˜¯éè©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚