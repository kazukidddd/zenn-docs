---
title: "AnimationControllerã®reverseãƒ¡ã‚½ãƒƒãƒ‰ä½¿ç”¨æ™‚ã®æ³¨æ„ç‚¹"
emoji: "ğŸ¬"
type: "tech"
topics: ["Flutter", "Animation", "Dart"]
published: true # trueã‚’æŒ‡å®šã™ã‚‹
published_at: 2024-12-07
---

# AnimationControllerã®reverseãƒ¡ã‚½ãƒƒãƒ‰ã«ã¤ã„ã¦

Flutterã§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã™ã‚‹éš›ã€`AnimationController`ã®`reverse()`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã®é‡è¦ãªæ³¨æ„ç‚¹ã«ã¤ã„ã¦è§£èª¬ã—ã¾ã™ã€‚

## åŸºæœ¬çš„ãªå‹•ä½œ

Flutterã®AnimationControllerã§ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¯ä»¥ä¸‹ã®2ã¤ã®å†ç”Ÿæ–¹å‘ãŒã‚ã‚Šã¾ã™ï¼š

- é€šå¸¸å†ç”Ÿï¼š`forward()`ãƒ¡ã‚½ãƒƒãƒ‰
- é€†å†ç”Ÿï¼š`reverse()`ãƒ¡ã‚½ãƒƒãƒ‰

## æ³¨æ„ç‚¹ï¼šCurveã®é€†å†ç”Ÿ

`reverse()`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹éš›ã®é‡è¦ãªæ³¨æ„ç‚¹ã¨ã—ã¦ã€**ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®Curveã‚‚é€†å†ç”Ÿã•ã‚Œã‚‹**ã¨ã„ã†ç‰¹å¾´ãŒã‚ã‚Šã¾ã™ã€‚

### å•é¡Œã®ä¾‹

ä»¥ä¸‹ã®ã‚ˆã†ãª`CurvedAnimation`ã‚’ä½¿ç”¨ã—ãŸå ´åˆï¼š

```dart
final CurvedAnimation curvedAnimation = CurvedAnimation(
  parent: animationController,
  curve: Curves.easeOutCirc,
);
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€`reverse()`å®Ÿè¡Œæ™‚ã«`easeOutCirc`ã®ã‚«ãƒ¼ãƒ–ã‚‚é€†å†ç”Ÿã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚

![é€šå¸¸ã®reverseå‹•ä½œ](/images/animation_curve//sample1.gif =300x)

ã“ã®å‹•ä½œã¯ã€ãƒ‡ã‚¶ã‚¤ãƒ³è¦ä»¶ã«ã‚ˆã£ã¦ã¯æœ›ã¾ã—ããªã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€é€†å†ç”Ÿæ™‚ã‚‚é€šå¸¸å†ç”Ÿã¨åŒã˜ã‚¤ãƒ¼ã‚¸ãƒ³ã‚°ã‚’é©ç”¨ã—ãŸã„å ´åˆãªã©ã§ã™ã€‚

## è§£æ±ºæ–¹æ³•ï¼šreverseCurveã®é©åˆ‡ãªè¨­å®š

ã“ã®å•é¡Œã¯`CurvedAnimation`ã®`reverseCurve`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ç”¨ã—ã¦è§£æ±ºã§ãã¾ã™ã€‚

ãŸã ã—ã€å˜ç´”ã«åŒã˜Curveã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã¯ä¸ååˆ†ã§ã™ã€‚`reverseCurve`ã«æŒ‡å®šã—ãŸCurveã‚‚é€†å†ç”Ÿã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚

### æ­£ã—ã„å®Ÿè£…æ–¹æ³•

`Curve`ã‚¯ãƒ©ã‚¹ã®`flipped`ã‚²ãƒƒã‚¿ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ã“ã®å•é¡Œã‚’è§£æ±ºã§ãã¾ã™ï¼š

```dart
final CurvedAnimation curvedAnimation = CurvedAnimation(
  parent: animationController,
  curve: Curves.easeOutCirc,
  reverseCurve: Curves.easeOutCirc.flipped, // flippedã‚’ä½¿ç”¨ã—ã¦é€†è»¢ã‚’ç›¸æ®º
);
```

`flipped`ã¯æŒ‡å®šã—ãŸCurveã‚’äºˆã‚é€†è»¢ã•ã›ãŸã‚‚ã®ã‚’è¿”ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€`reverse()`å®Ÿè¡Œæ™‚ã®è‡ªå‹•çš„ãªé€†è»¢ã¨ç›¸æ®ºã•ã‚Œã€çµæœã¨ã—ã¦é€šå¸¸å†ç”Ÿæ™‚ã¨åŒã˜ã‚«ãƒ¼ãƒ–ã§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚

![æ”¹å–„å¾Œã®å‹•ä½œ](/images/animation_curve//sample2.gif =300x)

## ã¾ã¨ã‚

- `AnimationController.reverse()`ä½¿ç”¨æ™‚ã¯ã€Curveã‚‚è‡ªå‹•çš„ã«é€†å†ç”Ÿã•ã‚Œã‚‹
- é€†å†ç”Ÿæ™‚ã‚‚é€šå¸¸å†ç”Ÿã¨åŒã˜ã‚«ãƒ¼ãƒ–ã‚’ç¶­æŒã—ãŸã„å ´åˆã¯ã€`reverseCurve`ã«`Curve.flipped`ã‚’æŒ‡å®šã™ã‚‹
- ã“ã®è¨­å®šã«ã‚ˆã‚Šã€ä¸€è²«æ€§ã®ã‚ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä½“é¨“ã‚’æä¾›ã§ãã‚‹
